<div id="comparison-table-container" class="comparison-table-container hidden">
    <h3>Risultati Confronto con Shopify</h3>

    <div class="metrics-summary">
        <div class="metric-item">Righe Importate: <span id="metricTotalRowsImported" class="metric-value">0</span></div>
        <div class="metric-item">Nuovi Prodotti: <span id="metricNewProducts" class="metric-value new">0</span></div>
        <div class="metric-item">Prodotti Modificati: <span id="metricProductsToModify" class="metric-value modified">0</span></div>
        <div class="metric-item">Solo Shopify (Azzera): <span id="metricShopifyOnly" class="metric-value shopify-only">0</span></div>
        <div class="metric-item">Minsan Non Importabili: <span id="metricNonImportable" class="metric-value error">0</span></div>
    </div>

    <div class="controls-bar comparison-controls-bar">
        <input type="text" id="comparisonProductSearch" placeholder="Cerca Minsan, Descrizione, Ditta..." class="search-input">
        <select id="comparisonStatusFilter" class="filter-select">
            <option value="all">Tutti gli stati</option>
            <option value="nuovo">Nuovi Prodotti</option>          <option value="modificato">Prodotti Modificati</option> <option value="shopify-only">Solo Shopify (Azzera)</option>
            <option value="sincronizzato">Sincronizzati</option>
            <option value="non-importabile">Non Importabili (Minsan 0)</option>
            <option value="sincronizzato (giacenza 0)">Sincronizzati (Giacenza 0)</option>
        </select>
    </div>

    <div id="table-content-placeholder" class="table-responsive">
        <p>Carica un file Excel per visualizzare il confronto.</p>
        </div>

    <div class="pagination-controls comparison-pagination-controls">
        <button id="comparisonPrevPageBtn" class="btn secondary" disabled>Precedente</button>
        <span id="comparisonPageInfo">Pagina 1 di X (Totale: 0)</span>
        <button id="comparisonNextPageBtn" class="btn secondary" disabled>Successiva</button>
    </div>

    <div class="table-actions">
        <button id="approve-selected-btn" class="btn primary" disabled>Approva Selezionati</button>
        <button id="approve-all-btn" class="btn primary" disabled>Approva Tutto</button>
    </div>
</div>

<style>
    /* Stili specifici per la tabella di confronto migliorata. Possono essere spostati in components.css */
    .metrics-summary {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-bottom: 20px;
        padding: 15px;
        background-color: var(--background-color);
        border-radius: var(--border-radius);
        border: 1px solid var(--border-color);
    }
    .metric-item {
        font-size: 0.95em;
        font-weight: bold;
        color: var(--text-color-secondary);
    }
    .metric-value {
        font-size: 1.1em;
        color: var(--primary-color-dark);
        margin-left: 5px;
    }
    .metric-value.new { color: var(--info-color); } /* Questi si riferiscono alle classi CSS, non ai valori del filtro */
    .metric-value.modified { color: var(--warning-color); }
    .metric-value.shopify-only { color: var(--error-color); }
    .metric-value.error { color: var(--error-color-dark); }

    .controls-bar {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
        align-items: center;
    }
    .controls-bar.comparison-controls-bar {
        flex-wrap: wrap;
    }
    .controls-bar .search-input {
        flex-grow: 1;
        padding: 10px 15px;
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        font-size: 0.9em;
    }
    .filter-select {
        padding: 10px 15px;
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        background-color: white;
        font-size: 0.9em;
        cursor: pointer;
    }

    .pagination-controls {
        margin-top: 20px;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
    }
    .pagination-controls button {
        min-width: 100px;
    }
    .pagination-controls #pageInfo {
        font-weight: bold;
        color: var(--text-color);
    }

</style>